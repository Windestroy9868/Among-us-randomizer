<!DOCTYPE html>
<html>
<head>
    <title>Among Us Role Randomizer</title>
    <style>
       /* ... (styles from previous responses) */
    </style>
</head>
<body>
    <h1>Among Us Role Randomizer</h1>
    <label for="numPlayers">Players:</label><input type="number" id="numPlayers" min="2" value="5">
    <label for="numImposters">Imposters:</label>
    <input type="number" id="numImposters" min="1" value="1">
    <button onclick="startRoleAssignment()">Start</button>
    <button onclick="randomImposters()">Random</button>
    <div id="nextPlayerMessage">Go get the next player...</div>
    <div id="roleDisplay"></div>
    <div id="totals"></div>
    <button id="emergencyButton" onclick="triggerEmergency()"></button>
    <audio id="emergencySound"><source src="emergency_sound.mp3" type="audio/mpeg"></audio>
    <div id="meetingArea">
        <h2>Emergency Meeting</h2>
        <div id="players"></div>
        <div id="discussionTimer"></div>
        <div id="voteTimer"></div>
        <div id="chat"></div>
        <input type="text" id="messageInput" placeholder="Type your message...">
        <button onclick="sendMessage()">Send</button>
        <button id="voteButton" onclick="castVote()" disabled>Vote</button> <div id="resultsDisplay"></div> <div id="totalsDisplay"></div>
        <audio id="voteSound"><source src="vote.mp3" type="audio/mpeg"></audio>
    </div>
    <script>
        // ... (other functions)

        function startRoleAssignment() {
            const numPlayers = parseInt(document.getElementById("numPlayers").value);
            let numImposters = parseInt(document.getElementById("numImposters").value);

            // Corrected check: Imposters must be less than players
            if (numImposters >= numPlayers || numImposters <= 0) {
                alert("Number of imposters must be less than the number of players and more than 0.");
                return; // Stop the role assignment
            }

            // ... (rest of the startRoleAssignment function)
        }

        function randomImposters() {
          const numPlayers = parseInt(document.getElementById("numPlayers").value);
          const numImpostersInput = document.getElementById("numImposters");
          let randomImposters = Math.floor(Math.random() * numPlayers);
          if (randomImposters == 0){
            randomImposters = 1;
          } else if (randomImposters >= numPlayers){
            randomImposters = numPlayers -1;
          }
          numImpostersInput.value = randomImposters;
        }

        // ... (rest of the script)
    </script>
</body>
</html>
